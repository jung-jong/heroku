(function(){"use strict";var t={276:function(t,e,l){var a=l(963),o=l(252),s=l(577);const r={class:"navbar navbar-expand-lg navbar-dark bg-dark"},c={class:"container-fluid"},i=(0,o._)("a",{class:"navbar-brand",href:"#"},"Soldout",-1),n=(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarSupportedContent"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},p={class:"nav-item"},_=(0,o.Uk)("홈"),m={class:"nav-item"},g=(0,o.Uk)("제품리스트"),h={class:"nav-item"},b={key:0,class:"nav-link active",to:"/detail"},v={key:0,class:"nav-item"},y=(0,o.Uk)("제품등록페이지"),f={key:1},w={key:2},k=(0,o._)("form",{class:"d-flex"},[(0,o._)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),(0,o._)("button",{class:"btn btn-outline-success",type:"submit"}," Search ")],-1),D=(0,o._)("footer",{class:"mt-5 py-5 bg-dark"},[(0,o._)("div",{class:"row"},[(0,o._)("div",{class:"col-12 col-md"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"d-block mb-2",role:"img",viewBox:"0 0 24 24"},[(0,o._)("title",null,"Product"),(0,o._)("circle",{cx:"12",cy:"12",r:"10"}),(0,o._)("path",{d:"M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"})]),(0,o._)("small",{class:"d-block mb-3 text-muted"},"© 2017–2021")]),(0,o._)("div",{class:"col-6 col-md"},[(0,o._)("h5",null,"Features"),(0,o._)("ul",{class:"list-unstyled text-small"},[(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Cool stuff")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Random feature")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Team feature")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Stuff for developers")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Another one")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Last time")])])]),(0,o._)("div",{class:"col-6 col-md"},[(0,o._)("h5",null,"Resources"),(0,o._)("ul",{class:"list-unstyled text-small"},[(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Resource name")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Resource")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Another resource")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Final resource")])])]),(0,o._)("div",{class:"col-6 col-md"},[(0,o._)("h5",null,"Resources"),(0,o._)("ul",{class:"list-unstyled text-small"},[(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Business")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Education")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Government")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Gaming")])])]),(0,o._)("div",{class:"col-6 col-md"},[(0,o._)("h5",null,"About"),(0,o._)("ul",{class:"list-unstyled text-small"},[(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Team")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Locations")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Privacy")]),(0,o._)("li",null,[(0,o._)("a",{class:"link-secondary",href:"#"},"Terms")])])])])],-1);function x(t,e,l,a,x,$){const I=(0,o.up)("router-link"),C=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("nav",r,[(0,o._)("div",c,[i,n,(0,o._)("div",d,[(0,o._)("ul",u,[(0,o._)("li",p,[(0,o.Wm)(I,{class:"nav-link",to:"/"},{default:(0,o.w5)((()=>[_])),_:1})]),(0,o._)("li",m,[(0,o.Wm)(I,{class:(0,s.C_)("nav-link "+("/detail"!==t.$route.path?"active":"")),to:"/"},{default:(0,o.w5)((()=>[g])),_:1},8,["class"])]),(0,o._)("li",h,["/detail"===t.$route.path?((0,o.wg)(),(0,o.iD)("div",b," 제품상세페이지 ")):(0,o.kq)("",!0)]),void 0!=$.user.email?((0,o.wg)(),(0,o.iD)("li",v,[(0,o.Wm)(I,{class:"nav-link",to:"/sales"},{default:(0,o.w5)((()=>[y])),_:1})])):(0,o.kq)("",!0),void 0==$.user.email?((0,o.wg)(),(0,o.iD)("li",f,[(0,o._)("button",{class:"btn btn-danger",type:"button",onClick:e[0]||(e[0]=(...t)=>$.kakaoLoin&&$.kakaoLoin(...t))}," 로그인 ")])):((0,o.wg)(),(0,o.iD)("li",w,[(0,o._)("button",{class:"btn btn-danger",type:"button",onClick:e[1]||(e[1]=(...t)=>$.kakaoLogout&&$.kakaoLogout(...t))}," 로그아웃 ")]))]),k])])]),(0,o.Wm)(C),D])}var $={computed:{user(){return this.$store.state.user}},methods:{kakaoLoin(){window.Kakao.Auth.login({scope:"profile_nickname, account_email, gender",success:this.getProfile})},getProfile(t){console.log(t),window.Kakao.API.request({url:"/v2/user/me",success:t=>{const e=t.kakao_account;console.log(e),this.login(e),alert("로그인 성공!")}})},async login(t){await this.$api("/api/login",{param:[{email:t.email,nickname:t.profile_nickname},{nickname:t.profile_nickname}]}),this.$store.commit("user",t)},kakaoLogout(){window.Kakao.Auth.logout((t=>{console.log(t),this.$store.commit("user",{}),alert("로그아웃"),this.$router.push({path:"/"})}))}}},I=l(744);const C=(0,I.Z)($,[["render",x]]);var P=C,L=l(119);const T={class:"mt-3"},O={class:"container"},z=(0,o.uE)('<div class="row mb-2"><div class="col-12"><select class="form-select"><option selected></option><option value="1">노트북</option><option value="2">모니터</option><option value="3">마우스/키보드</option></select></div></div>',1),U={class:"row"},j={class:"card",style:{width:"18rem"}},F=["onClick"],S=["src"],M={class:"card-body"},V={class:"card-title"},E={class:"card-text"},K={class:"badge bg-dark text-white me-1"},q={class:"badge bg-dark text-white me-1"},B={class:"badge bg-dark text-white"},H={class:"d-flex justify-content-between align-items-center"},A=(0,o._)("div",{class:"btn-group",role:"group"},[(0,o._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary"}," 장바구니 담기 "),(0,o._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary"}," 주문하기 ")],-1),Y={class:"text-dark"};function Z(t,e,l,a,r,c){return(0,o.wg)(),(0,o.iD)("main",T,[(0,o._)("div",O,[z,(0,o._)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productList,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-xl-3 col-lg-4 col-md-6",key:e},[(0,o._)("div",j,[(0,o._)("a",{onClick:e=>c.goToDetail(t.id),style:{cursor:"pointer"}},[(0,o._)("img",{src:`/download/${t.id}/${t.path}`,class:"card-img-top",alt:"..."},null,8,S)],8,F),(0,o._)("div",M,[(0,o._)("h5",V,(0,s.zw)(t.product_name),1),(0,o._)("p",E,[(0,o._)("span",K,(0,s.zw)(t.category1),1),(0,o._)("span",q,(0,s.zw)(t.category2),1),(0,o._)("span",B,(0,s.zw)(t.category3),1)]),(0,o._)("div",H,[A,(0,o._)("small",Y,(0,s.zw)(t.product_price)+"원",1)])])])])))),128))])])])}var R={data(){return{productList:[]}},created(){this.getProductList()},methods:{async getProductList(){this.productList=await this.$api("/api/productList",{}),console.log(this.productList)},goToDetail(t){this.$router.push({path:"/detail",query:{product_id:t}})}}};const W=(0,I.Z)(R,[["render",Z]]);var X=W;const G={class:"mt-3"},N={class:"container"},J={class:"row"},Q={class:"col-md-5"},tt={id:"carouselExampleIndicators",class:"carousel carousel-dark slide","data-bs-ride":"carousel"},et=(0,o._)("ol",{class:"carousel-indicators"},[(0,o._)("li",{"data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active"}),(0,o._)("li",{"data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"1"}),(0,o._)("li",{"data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"2"})],-1),lt={class:"carousel-inner"},at=["src"],ot=(0,o._)("a",{class:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-bs-slide":"prev"},[(0,o._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),(0,o._)("span",{class:"visually-hidden"},"Previous")],-1),st=(0,o._)("a",{class:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-bs-slide":"next"},[(0,o._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),(0,o._)("span",{class:"visually-hidden"},"Next")],-1),rt={class:"col-md-7"},ct={class:"card shadow-sm"},it={class:"card-body"},nt={class:"card-title"},dt={class:"card-title pt-3 pb-3 border-top"},ut={class:"card-text border-top pt-3"},pt={class:"badge bg-dark me-1"},_t={class:"badge bg-dark me-1"},mt={class:"badge bg-dark"},gt={class:"card-text pb-3"},ht={class:"card-text border-top pb-3"},bt={class:"row"},vt=(0,o._)("div",{class:"col-auto"},[(0,o._)("label",{class:"col-form-label"},"구매수량")],-1),yt={class:"col-auto"},ft={class:"input-group"},wt={class:"row pt-3 pb-3 border-top"},kt=(0,o._)("div",{class:"col-6"},[(0,o._)("h3",null,"총 상품 금액")],-1),Dt={class:"col-6",style:{"text-align":"right"}},xt=(0,o.uE)('<div class="d-flex justify-content-between align-items-center"><div class="col-6 d-grid p-1"><button type="button" class="btn btn-lg btn-dark"> 장바구니 담기 </button></div><div class="col-6 d-grid p-1"><button type="button" class="btn btn-lg btn-danger"> 주문하기 </button></div></div>',1),$t={class:"row"},It={class:"col-12"},Ct=["src"];function Pt(t,e,l,r,c,i){return(0,o.wg)(),(0,o.iD)("main",G,[(0,o._)("div",N,[(0,o._)("div",J,[(0,o._)("div",Q,[(0,o._)("div",tt,[et,(0,o._)("div",lt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.productImage,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)("carousel-item "+(0==e?"active":"")),key:e},[(0,o._)("img",{src:`/download/${c.productId}/${t.path}`,class:"d-block w-100",alt:"..."},null,8,at)],2)))),128))]),ot,st])]),(0,o._)("div",rt,[(0,o._)("div",ct,[(0,o._)("div",it,[(0,o._)("h5",nt,(0,s.zw)(c.productDetail.product_name),1),(0,o._)("h5",dt,(0,s.zw)(i.getCurrencyFormat(c.productDetail.product_price))+"원 ",1),(0,o._)("p",ut,[(0,o._)("span",pt,(0,s.zw)(c.productDetail.category1),1),(0,o._)("span",_t,(0,s.zw)(c.productDetail.category2),1),(0,o._)("span",mt,(0,s.zw)(c.productDetail.category3),1)]),(0,o._)("p",gt," 배송비 "+(0,s.zw)(i.getCurrencyFormat(c.productDetail.delivery_price))+"원 | 도서산간(제주도) 배송비 추가 "+(0,s.zw)(i.getCurrencyFormat(c.productDetail.add_delivery_price))+"원 | 택배배송 | "+(0,s.zw)(c.productDetail.outbound_days)+"일 이내 출고 (주말,공휴일 제외) ",1),(0,o._)("div",ht,[(0,o._)("div",bt,[vt,(0,o._)("div",yt,[(0,o._)("div",ft,[(0,o._)("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[0]||(e[0]=t=>i.calculatePrice(-1))},"-"),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",style:{width:"40px"},"onUpdate:modelValue":e[1]||(e[1]=t=>c.total=t)},null,512),[[a.nr,c.total]]),(0,o._)("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[2]||(e[2]=t=>i.calculatePrice(1))},"+")])])])]),(0,o._)("div",wt,[kt,(0,o._)("div",Dt,[(0,o._)("h3",null,(0,s.zw)(i.getCurrencyFormat(c.totalPrice))+"원",1)])]),xt])])])]),(0,o._)("div",$t,[(0,o._)("div",It,[(0,o._)("img",{src:`/download/${c.productId}/${c.productDetail.path}`,class:"img-fluid"},null,8,Ct)])])])])}var Lt={data(){return{productId:0,productDetail:{},productImage:[],total:1,totalPrice:0}},created(){this.productId=this.$route.query.product_id,this.getProductDetail(),this.getProductImage()},methods:{calculatePrice(t){let e=this.total+t;e<1&&(e=1),this.total=e,this.totalPrice=this.productDetail.product_price*this.total},getCurrencyFormat(t){return this.$currencyFormat(t)},async getProductDetail(){let t=await this.$api("/api/productDetail",{param:[this.productId]});t.length>0&&(this.productDetail=t[0],this.totalPrice=this.totalPrice=this.productDetail.product_price*this.total),console.log(this.productDetail)},async getProductImage(){this.productImage=await this.$api("/api/productMainImages",{param:[this.productId]}),console.log("this.productImage",this.productImage)}}};const Tt=(0,I.Z)(Lt,[["render",Pt]]);var Ot=Tt;const zt={class:"mt-3"},Ut={class:"container"},jt=(0,o._)("h2",{class:"text-center"},"제품 등록",-1),Ft={class:"mb-3 row"},St=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"제품명",-1),Mt={class:"col-md-9"},Vt={class:"mb-3 row"},Et=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"제품가격",-1),Kt={class:"col-md-9"},qt={class:"input-group mb-3"},Bt=(0,o._)("span",{class:"input-group-text"},"원",-1),Ht={class:"mb-3 row"},At=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"배송비",-1),Yt={class:"col-md-9"},Zt={class:"input-group mb-3"},Rt=(0,o._)("span",{class:"input-group-text"},"원",-1),Wt={class:"mb-3 row"},Xt=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"추가배송비(도서산간)",-1),Gt={class:"col-md-9"},Nt={class:"input-group mb-3"},Jt=(0,o._)("span",{class:"input-group-text"},"원",-1),Qt={class:"mb-3 row"},te=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"제품카테고리",-1),ee={class:"col-md-9"},le={class:"row"},ae={class:"col-auto"},oe=["value"],se={class:"col-auto"},re=["value"],ce={class:"col-auto"},ie=["value"],ne={class:"mb-3 row"},de=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"태그",-1),ue={class:"col-md-9"},pe={class:"mb-3 row"},_e=(0,o._)("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"출고일",-1),me={class:"col-md-9"},ge={class:"input-group mb-3"},he=(0,o._)("span",{class:"input-group-text"},"일 이내 출고",-1),be={class:"mb-3 row"},ve={class:"col-6 d-grid p-1"},ye={class:"col-6 d-grid p-1"};function fe(t,e,l,r,c,i){return(0,o.wg)(),(0,o.iD)("main",zt,[(0,o._)("div",Ut,[jt,(0,o._)("div",Ft,[St,(0,o._)("div",Mt,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>c.product.product_name=t)},null,512),[[a.nr,c.product.product_name]])])]),(0,o._)("div",Vt,[Et,(0,o._)("div",Kt,[(0,o._)("div",qt,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>c.product.product_price=t)},null,512),[[a.nr,c.product.product_price]]),Bt])])]),(0,o._)("div",Ht,[At,(0,o._)("div",Yt,[(0,o._)("div",Zt,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>c.product.delivery_price=t)},null,512),[[a.nr,c.product.delivery_price]]),Rt])])]),(0,o._)("div",Wt,[Xt,(0,o._)("div",Gt,[(0,o._)("div",Nt,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=t=>c.product.add_delivery_price=t)},null,512),[[a.nr,c.product.add_delivery_price]]),Jt])])]),(0,o._)("div",Qt,[te,(0,o._)("div",ee,[(0,o._)("div",le,[(0,o._)("div",ae,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=t=>c.cate1=t),onChange:e[5]||(e[5]=(...t)=>i.changeCategory1&&i.changeCategory1(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.category1,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t,key:e},(0,s.zw)(t),9,oe)))),128))],544),[[a.bM,c.cate1]])]),(0,o._)("div",se,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=t=>c.cate2=t),onChange:e[7]||(e[7]=(...t)=>i.changeCategory2&&i.changeCategory2(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.category2,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t,key:e},(0,s.zw)(t),9,re)))),128))],544),[[a.bM,c.cate2]])]),(0,o._)("div",ce,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":e[8]||(e[8]=t=>c.cate3=t)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.category3,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t,key:e},(0,s.zw)(t),9,ie)))),128))],512),[[a.bM,c.cate3]])])])])]),(0,o._)("div",ne,[de,(0,o._)("div",ue,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=t=>c.product.tags=t)},null,512),[[a.nr,c.product.tags]])])]),(0,o._)("div",pe,[_e,(0,o._)("div",me,[(0,o._)("div",ge,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=t=>c.product.outbound_days=t)},null,512),[[a.nr,c.product.outbound_days]]),he])])]),(0,o._)("div",be,[(0,o._)("div",ve,[(0,o._)("button",{class:"btn btn-lg btn-dark",onClick:e[11]||(e[11]=(...t)=>i.goToList&&i.goToList(...t))}," 취소하기 ")]),(0,o._)("div",ye,[(0,o._)("button",{class:"btn btn-lg btn-danger",onClick:e[12]||(e[12]=(...t)=>i.productInsert&&i.productInsert(...t))}," 저장하기 ")])])])])}var we={data(){return{product:{product_name:"",product_price:0,delivery_price:0,add_delivery_price:0,tags:"",outbound_days:0,seller_id:1,category_id:1},categoryList:[],category1:[],category2:[],category3:[],cate1:"",cate2:"",cate3:""}},computed:{user(){return this.$store.state.user}},created(){this.getCategoryList()},mounted(){void 0==this.user.email&&(alert("로그인을 해야 이용할 수 있습니다."),this.$router.push({path:"/"}))},methods:{goToList(){this.$router.push({path:"/sales"})},async getCategoryList(){let t=await this.$api("/api/categoryList",{});this.categoryList=t;let e={};t.forEach((t=>{e[t.category1]=t.id}));let l=[];for(let s in e)l.push(s);this.category1=l;let a=[];a=t.filter((t=>t.category1==l[0]));let o={};a.forEach((t=>{o[t.category2]=t.id})),a=[];for(let s in o)a.push(s);this.category2=a},changeCategory1(){this.category3=[];let t=this.categoryList.filter((t=>t.category1==this.cate1)),e={};t.forEach((t=>{e[t.category2]=t.id}));let l=[];for(let a in e)l.push(a);this.category2=l},changeCategory2(){let t=this.categoryList.filter((t=>t.category1==this.cate1&&t.category2==this.cate2)),e={};t.forEach((t=>{e[t.category3]=t.id}));let l=[];for(let a in e)l.push(a);this.category3=l},productInsert(){return""==this.product.product_name?this.$swal("제품명은 필수 입력 값 입니다."):""==this.product.product_price||0==this.product.product_price?this.$swal("제품 가격을 입력하세요."):""==this.product.delivery_price||0==this.product.delivery_price?this.$swal("배송료를 입력하세요."):""==this.product.outbound_days||0==this.product.outbound_days?this.$swal("출고일을 입력하세요."):(this.product.category_id=this.categoryList.filter((t=>t.category1==this.cate1&&t.category2==this.cate2&&t.category3==this.cate3))[0].id,console.log(this.product.category_id),void this.$swal.fire({title:"정말 등록 하시겠습니까?",showCancelButton:!0,confirmButtonText:"생성",cancelButtonText:"취소"}).then((async t=>{t.isConfirmed&&(await this.$api("/api/productInsert",{param:[this.product]}),this.$swal.fire("저장되었습니다!","","success"),this.$router.push({path:"/sales"}))})))}}};const ke=(0,I.Z)(we,[["render",fe]]);var De=ke;const xe={class:"mt-3"},$e={class:"container"},Ie=(0,o._)("h2",{class:"text-center"},"제품 수정",-1),Ce={class:"mb-3 row"},Pe=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품명",-1),Le={class:"col-md-9"},Te={class:"mb-3 row"},Oe=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품가격",-1),ze={class:"col-md-9"},Ue={class:"input-group mb-3"},je=(0,o._)("span",{class:"input-group-text"},"원",-1),Fe={class:"mb-3 row"},Se=(0,o._)("label",{class:"col-md-3 col-form-label"},"배송비",-1),Me={class:"col-md-9"},Ve={class:"input-group mb-3"},Ee=(0,o._)("span",{class:"input-group-text"},"원",-1),Ke={class:"mb-3 row"},qe=(0,o._)("label",{class:"col-md-3 col-form-label"},"추가배송비(도서산간)",-1),Be={class:"col-md-9"},He={class:"input-group mb-3"},Ae=(0,o._)("span",{class:"input-group-text"},"원",-1),Ye=(0,o.uE)('<div class="mb-3 row"><label class="col-md-3 col-form-label">제품카테고리</label><div class="col-md-9"><div class="row"><div class="col-auto"><select class="form-select"><option>전자제품</option></select></div><div class="col-auto"><select class="form-select"><option>컴퓨터</option></select></div><div class="col-auto"><select class="form-select"><option>악세사리</option></select></div></div></div></div>',1),Ze={class:"mb-3 row"},Re=(0,o._)("label",{class:"col-md-3 col-form-label"},"태그",-1),We={class:"col-md-9"},Xe={class:"mb-3 row"},Ge=(0,o._)("label",{class:"col-md-3 col-form-label"},"출고일",-1),Ne={class:"col-md-9"},Je={class:"input-group mb-3"},Qe=(0,o._)("span",{class:"input-group-text"},"일 이내 출고",-1),tl={class:"mb-3 row"},el={class:"col-6 d-grid p-1"},ll=(0,o._)("div",{class:"col-6 d-grid p-1"},[(0,o._)("button",{type:"button",class:"btn btn-lg btn-danger"},"저장하기")],-1);function al(t,e,l,s,r,c){return(0,o.wg)(),(0,o.iD)("main",xe,[(0,o._)("div",$e,[Ie,(0,o._)("div",Ce,[Pe,(0,o._)("div",Le,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>r.productDetail.product_name=t)},null,512),[[a.nr,r.productDetail.product_name]])])]),(0,o._)("div",Te,[Oe,(0,o._)("div",ze,[(0,o._)("div",Ue,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>r.productDetail.product_price=t)},null,512),[[a.nr,r.productDetail.product_price]]),je])])]),(0,o._)("div",Fe,[Se,(0,o._)("div",Me,[(0,o._)("div",Ve,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.productDetail.delivery_price=t)},null,512),[[a.nr,r.productDetail.delivery_price]]),Ee])])]),(0,o._)("div",Ke,[qe,(0,o._)("div",Be,[(0,o._)("div",He,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=t=>r.productDetail.add_delivery_price=t)},null,512),[[a.nr,r.productDetail.add_delivery_price]]),Ae])])]),Ye,(0,o._)("div",Ze,[Re,(0,o._)("div",We,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=t=>r.productDetail.tags=t)},null,512),[[a.nr,r.productDetail.tags]])])]),(0,o._)("div",Xe,[Ge,(0,o._)("div",Ne,[(0,o._)("div",Je,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>r.productDetail.outbound_days=t)},null,512),[[a.nr,r.productDetail.outbound_days]]),Qe])])]),(0,o._)("div",tl,[(0,o._)("div",el,[(0,o._)("button",{type:"button",class:"btn btn-lg btn-dark",onClick:e[6]||(e[6]=(...t)=>c.goToList&&c.goToList(...t))}," 취소하기 ")]),ll])])])}var ol={data(){return{productId:0,productDetail:{}}},computed:{user(){return this.$store.state.user}},mounted(){void 0==this.user.email&&(alert("로그인을 해야 이용할 수 있습니다."),this.$router.push({path:"/"}))},created(){this.productId=this.$route.query.product_id,this.getProductDetail()},methods:{goToList(){this.$router.push({path:"/sales"})},async getProductDetail(){let t=await this.$api("/api/productDetail",{param:[this.productId]});t.length>0&&(this.productDetail=t[0])}}};const sl=(0,I.Z)(ol,[["render",al]]);var rl=sl;const cl={class:"mt-3"},il={class:"container"},nl={class:"float-end mb-1"},dl={class:"table table-bordered"},ul=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th"),(0,o._)("th",null,"제품명"),(0,o._)("th",null,"제품가격"),(0,o._)("th",null,"배송비"),(0,o._)("th",null,"추가 배송비"),(0,o._)("th")])],-1),pl=["src"],_l=["onClick"],ml=["onClick"],gl=["onClick"];function hl(t,e,l,a,r,c){return(0,o.wg)(),(0,o.iD)("main",cl,[(0,o._)("div",il,[(0,o._)("div",nl,[(0,o._)("button",{type:"button",class:"btn btn-dark",onClick:e[0]||(e[0]=(...t)=>c.goToInsert&&c.goToInsert(...t))}," 제품등록 ")]),(0,o._)("table",dl,[ul,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productList,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{key:e},[(0,o._)("td",null,[null!=t.path?((0,o.wg)(),(0,o.iD)("img",{key:0,src:`/download/${t.id}/${t.path}`,style:{height:"50px",width:"auto"}},null,8,pl)):(0,o.kq)("",!0)]),(0,o._)("td",null,(0,s.zw)(t.product_name),1),(0,o._)("td",null,(0,s.zw)(t.product_price),1),(0,o._)("td",null,(0,s.zw)(t.delivery_price),1),(0,o._)("td",null,(0,s.zw)(t.add_delivery_price),1),(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-info me-1",onClick:e=>c.goToImageInsert(t.id)}," 사진등록 ",8,_l),(0,o._)("button",{type:"button",class:"btn btn-warning me-1",onClick:e=>c.goToUpdate(t.id)}," 수정 ",8,ml),(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:e=>c.deleteProduct(t.id)}," 삭제 ",8,gl)])])))),128))])])])])}var bl={data(){return{productList:[]}},created(){this.getProductList()},methods:{async getProductList(){this.productList=await this.$api("/api/productList2",{}),console.log(this.productList)},goToInsert(){this.$router.push({path:"/create"})},goToDetail(t){this.$router.push({path:"/detail",query:{product_id:t}})},goToUpdate(t){this.$router.push({path:"/update",query:{product_id:t}})},goToImageInsert(t){this.$router.push({path:"/image_insert",query:{product_id:t}})},deleteProduct(t){this.$swal.fire({title:"정말 삭제하시겠습니까?",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then((async e=>{e.isConfirmed&&(console.log(t),await this.$api("/api/productDelete",{param:[t]}),this.getProductList(),this.$swal.fire("삭제되었습니다!","","success"))}))}}};const vl=(0,I.Z)(bl,[["render",hl]]);var yl=vl;const fl={class:"mt-3"},wl={class:"container"},kl=(0,o._)("h2",{class:"text-center"},"제품 사진 등록",-1),Dl={class:"mb-3 row"},xl=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품ID",-1),$l={class:"col-md-9"},Il={class:"mb-3 row"},Cl=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품명",-1),Pl={class:"col-md-9"},Ll={class:"mb-3 row"},Tl=(0,o._)("label",{class:"col-md-3 col-form-label"},"썸네일이미지",-1),Ol={class:"col-md-9"},zl={class:"row"},Ul={class:"position-relative"},jl=["src"],Fl=["onClick"],Sl=(0,o._)("div",{class:"alert alert-secondary",role:"alert"},[(0,o._)("ul",null,[(0,o._)("li",null,"이미지 사이즈 : 350*350"),(0,o._)("li",null,"파일 사이즈 : 1M 이하"),(0,o._)("li",null,"파일 확장자 : png, jpg만 가능")])],-1),Ml={class:"mb-3 row"},Vl=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품이미지",-1),El={class:"col-md-9"},Kl={class:"row"},ql={class:"position-relative"},Bl=["src"],Hl=["onClick"],Al=(0,o._)("div",{class:"alert alert-secondary",role:"alert"},[(0,o._)("ul",null,[(0,o._)("li",null,"최대 5개 가능"),(0,o._)("li",null,"이미지 사이즈 : 700*700"),(0,o._)("li",null,"파일 사이즈 : 1M 이하"),(0,o._)("li",null,"파일 확장자 : png, jpg만 가능")])],-1),Yl={class:"mb-3 row"},Zl=(0,o._)("label",{class:"col-md-3 col-form-label"},"제품설명이미지",-1),Rl={class:"col-md-9"},Wl={class:"row"},Xl={class:"col-lg-6 col-md-8"},Gl=(0,o._)("div",{class:"alert alert-secondary",role:"alert"},[(0,o._)("ul",null,[(0,o._)("li",null,"파일 사이즈 : 5M 이하"),(0,o._)("li",null,"파일 확장자 : png, jpg만 가능")])],-1),Nl={class:"position-relative"},Jl=["src"],Ql=["onClick"],ta={class:"mb-3 row m-auto"};function ea(t,e,l,a,r,c){return(0,o.wg)(),(0,o.iD)("main",fl,[(0,o._)("div",wl,[kl,(0,o._)("div",Dl,[xl,(0,o._)("div",$l,(0,s.zw)(r.productId),1)]),(0,o._)("div",Il,[Cl,(0,o._)("div",Pl,(0,s.zw)(r.productDetail.product_name),1)]),(0,o._)("div",Ll,[Tl,(0,o._)("div",Ol,[(0,o._)("div",zl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productImage.filter((t=>1==t.type)),((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-lg-3 col-md-4 col-sm-2",key:e},[(0,o._)("div",Ul,[(0,o._)("img",{src:`/download/${r.productId}/${t.path}`,class:"img-fluid"},null,8,jl),(0,o._)("div",{class:"position-absolute top-0 end-0",style:{cursor:"pointer"},onClick:e=>c.deleteImage(t.id)}," X ",8,Fl)])])))),128))]),(0,o._)("input",{type:"file",class:"form-control",accept:"image/png,image/jpeg",onChange:e[0]||(e[0]=t=>c.uploadFile(t.target.files,1))},null,32),Sl])]),(0,o._)("div",Ml,[Vl,(0,o._)("div",El,[(0,o._)("div",Kl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productImage.filter((t=>2==t.type)),((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-lg-3 col-md-4 col-sm-2",key:e},[(0,o._)("div",ql,[(0,o._)("img",{src:`/download/${r.productId}/${t.path}`,class:"img-fluid"},null,8,Bl),(0,o._)("div",{class:"position-absolute top-0 end-0",style:{cursor:"pointer"},onClick:e=>c.deleteImage(t.id)}," X ",8,Hl)])])))),128))]),(0,o._)("input",{type:"file",class:"form-control",accept:"image/png,image/jpeg",onChange:e[1]||(e[1]=t=>c.uploadFile(t.target.files,2))},null,32),Al])]),(0,o._)("div",Yl,[Zl,(0,o._)("div",Rl,[(0,o._)("div",Wl,[(0,o._)("div",Xl,[(0,o._)("input",{type:"file",class:"form-control",accept:"image/png,image/jpeg",onChange:e[2]||(e[2]=t=>c.uploadFile(t.target.files,3))},null,32),Gl]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.productImage.filter((t=>3==t.type)),((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"col-lg-6 col-md-4",key:e},[(0,o._)("div",Nl,[(0,o._)("img",{src:`/download/${r.productId}/${t.path}`,class:"img-fluid"},null,8,Jl),(0,o._)("div",{class:"position-absolute top-0 end-0",style:{cursor:"pointer",color:"white"},onClick:e=>c.deleteImage(t.id)}," X ",8,Ql)])])))),128))])])]),(0,o._)("div",ta,[(0,o._)("button",{type:"button",class:"btn btn-lg btn-dark",onClick:e[3]||(e[3]=(...t)=>c.goToList&&c.goToList(...t))}," 확인 ")])])])}var la={data(){return{productId:0,productName:"",productDetail:{},productImage:[]}},computed:{user(){return this.$store.state.user}},created(){this.productId=this.$route.query.product_id,this.getProductDetail(),this.getProductImage()},mounted(){void 0==this.user.email&&(alert("로그인을 해야 이용할 수 있습니다."),this.$router.push({path:"/"}))},methods:{goToList(){this.$router.push({path:"/sales"})},async getProductDetail(){let t=await this.$api("/api/productDetail",{param:[this.productId]});t.length>0&&(this.productDetail=t[0])},async getProductImage(){this.productImage=await this.$api("/api/imageList",{param:[this.productId]}),console.log("this.productImage",this.productImage)},deleteImage(t){this.$swal.fire({title:"정말 삭제 하시겠습니까?",showCancelButton:!0,confirmButtonText:"삭제",cancelButtonText:"취소"}).then((async e=>{e.isConfirmed&&(await this.$api("/api/imageDelete",{param:[t]}),this.getProductImage(),this.$swal.fire("삭제되었습니다!","","success"))}))},async uploadFile(t,e){let l="",a=null;t&&(l=t[0].name,a=await this.$base64(t[0]));const{error:o}=await this.$api(`/upload/${this.productId}/${e}/${l}`,{data:a});if(o)return this.$swal("이미지 업로드 실패했습니다. 다시 시도하세요.");this.$swal("이미지가 업로드 되었습니다."),setTimeout((()=>{this.getProductImage()}),1e3)}}};const aa=(0,I.Z)(la,[["render",ea]]);var oa=aa;const sa=[{path:"/",name:"home",component:X},{path:"/detail",name:"ProductDetail",component:Ot},{path:"/create",name:"ProductCreate",component:De},{path:"/update",name:"ProductUpdate",component:rl},{path:"/sales",name:"SalesList",component:yl},{path:"/image_insert",name:"ImageInsert",component:oa}],ra=(0,L.p7)({history:(0,L.PO)("/"),routes:sa});var ca=ra,ia=l(669),na=l.n(ia);na().defaults.headers.post["Content-Type"]="application/json;charset=utf-8",na().defaults.headers.post["Access-Control-Allow-Origin"]="*";var da={methods:{async $api(t,e){return(await na()({method:"post",url:t,data:e}).catch((t=>{console.log(t)}))).data},$base64(t){return new Promise((e=>{var l=new FileReader;l.onload=t=>e(t.target.result),l.readAsDataURL(t)}))},$currencyFormat(t,e="#,###"){if(0==t||null==t)return 0;var l=e.substring(0,1);"$"===l||"₩"===l?e=e.substring(1,e.length):l="";var a=",",o=0,s=".";-1==e.indexOf(".")?a=",":e.indexOf(",")<e.indexOf(".")?(a=",",s=".",o=e.length-e.indexOf(".")-1):(a=".",s=",",o=e.length-e.indexOf(",")-1);for(var r="",c="",i=1,n=0;n<o;n++)i*=10;var d=String(Math.round(parseFloat(t)*i)/i);d.indexOf("-")>-1&&(r="-",d=d.substring(1)),o>0&&"0"==e.substring(e.length-1,e.length)&&(d=String(parseFloat(d).toFixed(o))),o>0&&d.indexOf(".")>-1&&(c=d.substring(d.indexOf(".")),c=c.replace(".",s),d=d.substring(0,d.indexOf(".")));var u=/\D/g;d=d.replace(u,"");var p=/(\d+)(\d{3})/;while(p.test(d))d=d.replace(p,"$1"+a+"$2");return r+l+String(d)+String(c)}}},ua=l(637),pa=l(702);const _a=(0,ua.MT)({state(){return{user:{}}},mutations:{user(t,e){t.user=e}},plugins:[(0,pa.Z)({paths:["user"]})]});var ma=_a,ga=(l(244),l(982)),ha=l.n(ga);(0,a.ri)(P).use(ca).mixin(da).use(ma).use(ha()).mount("#app"),window.Kakao.init("4f907822fcf19986da21e936b0933f6d")}},e={};function l(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,l),s.exports}l.m=t,function(){var t=[];l.O=function(e,a,o,s){if(!a){var r=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],s=t[d][2];for(var c=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(l.O).every((function(t){return l.O[t](a[i])}))?a.splice(i--,1):(c=!1,s<r&&(r=s));if(c){t.splice(d--,1);var n=o();void 0!==n&&(e=n)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,o,s]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var a in e)l.o(e,a)&&!l.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};l.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,r=a[0],c=a[1],i=a[2],n=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)l.o(c,o)&&(l.m[o]=c[o]);if(i)var d=i(l)}for(e&&e(a);n<r.length;n++)s=r[n],l.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return l.O(d)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(276)}));a=l.O(a)})();
//# sourceMappingURL=app.c0609f1e.js.map